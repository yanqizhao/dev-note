# 1.24阅读博客笔记

最近看的主要是杂货铺大哥的文章。

[iOS 创建对象的姿势](http://mrpeak.cn/blog/ios-init/)

这篇文章主要是讲在一个类初始化其属性的时候，为了保证属性的值不被外界改变，可以通过init的方法(designated initializer)传入各属性的值，但是如果属性过多时，仍希望存在多个init方法(convenience initializer)来赋值部分属性时，会显得方法过多，这时可以增加一个类来充当属性生成类。这里实际上是一个排列组合的问题，如果一个类有n个属性，那么它所需要的init方法为2^n - 1，而使用Builder Pattern后只需要n个方法。

[危险的UITableView](http://mrpeak.cn/blog/tableview-danger/)

这篇文章主要是讲在tableView频繁刷新时可能会遇到的问题，因为reloadData操作是异步的，所以在真正刷新的时刻，数据也许已经被改变，最简单也是最粗暴的方法首先是添加一系列判空操作，防止crash。多线程的问题也可能会发生，之前遇到过一次使用刷新控件MJRefresh三方库的问题，这个库在获取到数据后会将页面整体上移半个cell的高度，我们数据获取的方法回调和停止刷新控件loading都是通过RAC实现的，这里要确保数据获取的回调先执行，停止刷新控件loading的回调后执行，否则会因为未返回数据而造成页面不上移的问题。而文章里所讲到的多线程问题是当页面需要频繁刷新或当数据量很大时，可以从采用流量控制的方式，分批次下载。

[iOS编程中throttle那些事](http://mrpeak.cn/blog/ios-throttle/)

读完这篇文章首先想到的是TCP协议中关于拥塞避免的一个问题，就是从某种意义上来讲，我们所做的拥塞避免的工作其实才是造成拥塞的很大一部分的原因，这也是物极必反的真实写照吧，所以`Network Throttle体现了一句至理名言「慢即是快」。`

[iOS与函数式编程](http://mrpeak.cn/blog/functional/)

> 函数式编程当中的函数f(x)强调无状态，其实是强调将状态锁定在函数的内部，一个函数它不依赖于任何外部的状态，只依赖于它的入参的值，一旦值确定，这个函数所返回的结果就是确定的。可能有人会觉得入参也是状态，是外部传入的状态，其实不然，我前面说过变量才会有状态，值是没有状态的，入参传入的只是值，而不是变量。

文章中的例子举得很形象，把多线程操作比作空间的交叉重叠，函数式编程所强调的纯函数就是既不依赖外部的状态也不改变外部的状态。

